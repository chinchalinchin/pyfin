<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>scrilla.gui.widgets.functions API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>scrilla.gui.widgets.functions</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># This file is part of scrilla: https://github.com/chinchalinchin/scrilla.

# scrilla is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 3
# as published by the Free Software Foundation.

# scrilla is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with scrilla.  If not, see &lt;https://www.gnu.org/licenses/&gt;
# or &lt;https://github.com/chinchalinchin/scrilla/blob/develop/main/LICENSE&gt;.

from PySide6 import QtGui, QtCore, QtWidgets


from scrilla import settings
from scrilla.static import keys, definitions
# TODO: conditional import based on ANALYSIS_MODE
from scrilla.analysis import markets, optimizer
from scrilla.analysis.models.geometric import statistics
from scrilla.analysis.objects.portfolio import Portfolio

from scrilla.util import outputter, helper, plotter

from scrilla.gui import formats, utilities
from scrilla.gui.widgets import factories, components

logger = outputter.Logger(&#39;gui.functions&#39;, settings.LOG_LEVEL)

class RiskReturnWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;risk_profile&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.composite_widget = components.CompositeWidget(keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;PROFILE&#39;], 
                                                            widget_title=&#34;Risk Analysis&#34;,
                                                            table_title=&#34;CAPM Risk Profile&#34;,
                                                            graph_title=&#34;Risk-Return Plane&#34;,
                                                            layer = utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls= RiskReturnWidget._configure_control_skeleton(),
                                                    layer = utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.composite_widget)
        self.layout().addWidget(self.arg_widget)

    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def calculate(self):
        if self.composite_widget.graph_widget.figure.isVisible():
            self.composite_widget.graph_widget.figure.hide()

        symbols = self.arg_widget.get_symbol_input()

        self.composite_widget.table_widget.init_table(rows=symbols, 
                                                        columns=[&#39;Return&#39;,&#39;Volatility&#39;, &#39;Sharpe&#39;, &#39;Beta&#39;, &#39;Equity Cost&#39;])

        profiles = {}
        for i, symbol in enumerate(symbols):
            profiles[symbol] = statistics.calculate_risk_return(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;SHARPE&#39;]] = markets.sharpe_ratio(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;BETA&#39;]] = markets.market_beta(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;EQUITY&#39;]] = markets.cost_of_equity(symbol)

            formatted_profile = formats.format_profile(profiles[symbol])

            for j, statistic in enumerate(formatted_profile.keys()):
                table_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=formatted_profile[statistic] )
                self.composite_widget.table_widget.table.setItem(i, j, table_item)

        plotter.plot_profiles(symbols=symbols, profiles=profiles, show=False,
                                        savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;PROFILE&#34;]}&#39;)

        self.composite_widget.graph_widget.set_pixmap()
        self.composite_widget.table_widget.show_table()
        self.arg_widget.fire()

    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.composite_widget.graph_widget.figure.isVisible():
            self.composite_widget.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def clear(self):
        self.composite_widget.graph_widget.figure.hide()
        self.composite_widget.table_widget.table.clear()
        self.composite_widget.table_widget.table.hide()
        self.arg_widget.prime()

class CorrelationWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;correlation&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.table_widget = components.TableWidget(widget_title=&#34;Correlation Matrix&#34;,
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls=CorrelationWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.table_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def calculate(self):
        if self.table_widget.table.isVisible():
            self.table_widget.table.clear()
            self.table_widget.table.hide()

        symbols = self.arg_widget.get_symbol_input()

        if len(symbols) &gt; 1:
            self.table_widget.init_table(rows=symbols, columns=symbols)

            matrix = statistics.correlation_matrix(tickers=symbols)
            for i in range(0, len(symbols)):
                for j in range(i, len(symbols)):
                    item_upper = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[i][j]))
                    item_lower = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[j][i]))
                    self.table_widget.table.setItem(j, i, item_upper)
                    self.table_widget.table.setItem(i, j, item_lower)
        else:
            print(&#39;error handling goes here&#39;)

        self.table_widget.show_table()
        self.arg_widget.fire()

    @QtCore.Slot()
    def clear(self):
        self.arg_widget.prime()
        self.table_widget.table.clear()
        self.table_widget.table.hide()

class OptimizerWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()
        
        for arg in definitions.FUNC_DICT[&#39;optimize_portfolio&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.title = factories.atomic_widget_factory(format=&#39;heading&#39;, title=None)
        self.table_widget = components.TableWidget(widget_title=&#34;Optimization Results&#34;,
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.optimize,
                                                    clear_function=self.clear,
                                                    controls=OptimizerWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.table_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def optimize(self):
        if self.table_widget.table.isVisible():
            self.table_widget.table.clear()
            self.table_widget.table.hide()

        symbols = self.arg_widget.get_symbol_input()

        # TODO: better error checking
        if len(symbols) &gt; 1:
            investment = self.arg_widget.get_control_input(&#39;investment&#39;)
            this_portfolio = Portfolio(tickers=symbols, 
                                        start_date=self.arg_widget.get_control_input(&#39;start_date&#39;),
                                        end_date=self.arg_widget.get_control_input(&#39;end_date&#39;))
            allocation = optimizer.optimize_portfolio_variance(portfolio=this_portfolio,
                                                                target_return=self.arg_widget.get_control_input(&#39;target&#39;))
            self.title.setText(formats.format_allocation_profile_title(allocation, this_portfolio))
            
            if investment is None:
                self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;])
            else:
                self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;, &#39;Shares&#39;])
                shares = this_portfolio.calculate_approximate_shares(allocation, float(investment))

            for i in range(len(symbols)):
                item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=helper.format_float_percent(allocation[i]))
                self.table_widget.table.setItem(i, 0, item)

                if investment is not None:
                    share_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=str(shares[i]))
                    self.table_widget.table.setItem(i, 1, share_item)
            
            # TODO: display amount vested per equity
            # TODO: display total portfolio return and volatility
            # TODO: display actual investment
            self.table_widget.show_table()
            self.arg_widget.fire()
        
        else:
            print(&#39;something went wrong&#39;)

    @QtCore.Slot()
    def clear(self):
        self.table_widget.table.clear()
        self.table_widget.table.hide()
        self.arg_widget.prime()

class EfficientFrontierWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;efficient_frontier&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.graph_widget = components.GraphWidget(tmp_graph_key=keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;FRONTIER&#39;],
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate, 
                                                    clear_function=self.clear,
                                                    controls=EfficientFrontierWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())
        # TODO: portfolio tabs

    def _arrange_widgets(self):
        self.layout().addWidget(self.graph_widget)
        self.layout().addWidget(self.arg_widget)

    def _stage_widgets(self):
        self.arg_widget.prime()

    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.graph_widget.figure.isVisible():
            self.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def calculate(self):
        if self.graph_widget.figure.isVisible():
            self.graph_widget.figure.hide()

        this_portfolio = Portfolio(tickers=self.arg_widget.get_symbol_input())
        frontier = optimizer.calculate_efficient_frontier(portfolio=this_portfolio)
        plotter.plot_frontier(portfolio=this_portfolio, 
                                frontier=frontier, 
                                show=False, 
                                savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;FRONTIER&#34;]}&#39;)

        self.graph_widget.set_pixmap()
        self.arg_widget.fire()
    
    @QtCore.Slot()
    def clear(self):
        self.graph_widget.figure.hide()
        self.arg_widget.prime()

class MovingAverageWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    def _init_widgets(self):
        self.graph_widget = components.GraphWidget(keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;AVERAGES&#39;],
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls = factories.generate_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.graph_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()
        
    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.graph_widget.figure.isVisible():
            self.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def calculate(self):
        if self.graph_widget.figure.isVisible():
            self.graph_widget.figure.hide()

        symbols = self.arg_widget.get_symbol_input()

        moving_averages = statistics.calculate_moving_averages(symbols)
        periods = [settings.MA_1_PERIOD, settings.MA_2_PERIOD, settings.MA_3_PERIOD]
        plotter.plot_moving_averages(symbols=symbols, 
                                        averages_output=moving_averages, 
                                        periods=periods, 
                                        show=False, 
                                        savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;AVERAGES&#34;]}&#39;)
        self.graph_widget.set_pixmap()
        self.arg_widget.fire()
    
    @QtCore.Slot()
    def clear(self):
        self.arg_widget.prime()
        self.graph_widget.figure.hide()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="scrilla.gui.widgets.functions.CorrelationWidget"><code class="flex name class">
<span>class <span class="ident">CorrelationWidget</span></span>
<span>(</span><span>layer)</span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p><strong>init</strong>(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p>Initialize self.
See help(type(self)) for accurate signature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CorrelationWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;correlation&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.table_widget = components.TableWidget(widget_title=&#34;Correlation Matrix&#34;,
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls=CorrelationWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.table_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def calculate(self):
        if self.table_widget.table.isVisible():
            self.table_widget.table.clear()
            self.table_widget.table.hide()

        symbols = self.arg_widget.get_symbol_input()

        if len(symbols) &gt; 1:
            self.table_widget.init_table(rows=symbols, columns=symbols)

            matrix = statistics.correlation_matrix(tickers=symbols)
            for i in range(0, len(symbols)):
                for j in range(i, len(symbols)):
                    item_upper = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[i][j]))
                    item_lower = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[j][i]))
                    self.table_widget.table.setItem(j, i, item_upper)
                    self.table_widget.table.setItem(i, j, item_lower)
        else:
            print(&#39;error handling goes here&#39;)

        self.table_widget.show_table()
        self.arg_widget.fire()

    @QtCore.Slot()
    def clear(self):
        self.arg_widget.prime()
        self.table_widget.table.clear()
        self.table_widget.table.hide()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PySide6.QtWidgets.QWidget</li>
<li>PySide6.QtCore.QObject</li>
<li>PySide6.QtGui.QPaintDevice</li>
<li>Shiboken.Object</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.CorrelationWidget.staticMetaObject"><code class="name">var <span class="ident">staticMetaObject</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.CorrelationWidget.calculate"><code class="name flex">
<span>def <span class="ident">calculate</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def calculate(self):
    if self.table_widget.table.isVisible():
        self.table_widget.table.clear()
        self.table_widget.table.hide()

    symbols = self.arg_widget.get_symbol_input()

    if len(symbols) &gt; 1:
        self.table_widget.init_table(rows=symbols, columns=symbols)

        matrix = statistics.correlation_matrix(tickers=symbols)
        for i in range(0, len(symbols)):
            for j in range(i, len(symbols)):
                item_upper = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[i][j]))
                item_lower = factories.atomic_widget_factory(format=&#39;table-item&#39;, title = helper.format_float_percent(matrix[j][i]))
                self.table_widget.table.setItem(j, i, item_upper)
                self.table_widget.table.setItem(i, j, item_lower)
    else:
        print(&#39;error handling goes here&#39;)

    self.table_widget.show_table()
    self.arg_widget.fire()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.CorrelationWidget.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def clear(self):
    self.arg_widget.prime()
    self.table_widget.table.clear()
    self.table_widget.table.hide()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="scrilla.gui.widgets.functions.EfficientFrontierWidget"><code class="flex name class">
<span>class <span class="ident">EfficientFrontierWidget</span></span>
<span>(</span><span>layer)</span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p><strong>init</strong>(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p>Initialize self.
See help(type(self)) for accurate signature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class EfficientFrontierWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;efficient_frontier&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.graph_widget = components.GraphWidget(tmp_graph_key=keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;FRONTIER&#39;],
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate, 
                                                    clear_function=self.clear,
                                                    controls=EfficientFrontierWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())
        # TODO: portfolio tabs

    def _arrange_widgets(self):
        self.layout().addWidget(self.graph_widget)
        self.layout().addWidget(self.arg_widget)

    def _stage_widgets(self):
        self.arg_widget.prime()

    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.graph_widget.figure.isVisible():
            self.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def calculate(self):
        if self.graph_widget.figure.isVisible():
            self.graph_widget.figure.hide()

        this_portfolio = Portfolio(tickers=self.arg_widget.get_symbol_input())
        frontier = optimizer.calculate_efficient_frontier(portfolio=this_portfolio)
        plotter.plot_frontier(portfolio=this_portfolio, 
                                frontier=frontier, 
                                show=False, 
                                savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;FRONTIER&#34;]}&#39;)

        self.graph_widget.set_pixmap()
        self.arg_widget.fire()
    
    @QtCore.Slot()
    def clear(self):
        self.graph_widget.figure.hide()
        self.arg_widget.prime()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PySide6.QtWidgets.QWidget</li>
<li>PySide6.QtCore.QObject</li>
<li>PySide6.QtGui.QPaintDevice</li>
<li>Shiboken.Object</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.EfficientFrontierWidget.staticMetaObject"><code class="name">var <span class="ident">staticMetaObject</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.EfficientFrontierWidget.calculate"><code class="name flex">
<span>def <span class="ident">calculate</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def calculate(self):
    if self.graph_widget.figure.isVisible():
        self.graph_widget.figure.hide()

    this_portfolio = Portfolio(tickers=self.arg_widget.get_symbol_input())
    frontier = optimizer.calculate_efficient_frontier(portfolio=this_portfolio)
    plotter.plot_frontier(portfolio=this_portfolio, 
                            frontier=frontier, 
                            show=False, 
                            savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;FRONTIER&#34;]}&#39;)

    self.graph_widget.set_pixmap()
    self.arg_widget.fire()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.EfficientFrontierWidget.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def clear(self):
    self.graph_widget.figure.hide()
    self.arg_widget.prime()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.EfficientFrontierWidget.resizeEvent"><code class="name flex">
<span>def <span class="ident">resizeEvent</span></span>(<span>self, event: PySide6.QtGui.QResizeEvent) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>resizeEvent(self, event: PySide6.QtGui.QResizeEvent) -&gt; None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
    if self.graph_widget.figure.isVisible():
        self.graph_widget.set_pixmap()
    return super().resizeEvent(event)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="scrilla.gui.widgets.functions.MovingAverageWidget"><code class="flex name class">
<span>class <span class="ident">MovingAverageWidget</span></span>
<span>(</span><span>layer)</span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p><strong>init</strong>(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p>Initialize self.
See help(type(self)) for accurate signature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MovingAverageWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    def _init_widgets(self):
        self.graph_widget = components.GraphWidget(keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;AVERAGES&#39;],
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls = factories.generate_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.graph_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()
        
    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.graph_widget.figure.isVisible():
            self.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def calculate(self):
        if self.graph_widget.figure.isVisible():
            self.graph_widget.figure.hide()

        symbols = self.arg_widget.get_symbol_input()

        moving_averages = statistics.calculate_moving_averages(symbols)
        periods = [settings.MA_1_PERIOD, settings.MA_2_PERIOD, settings.MA_3_PERIOD]
        plotter.plot_moving_averages(symbols=symbols, 
                                        averages_output=moving_averages, 
                                        periods=periods, 
                                        show=False, 
                                        savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;AVERAGES&#34;]}&#39;)
        self.graph_widget.set_pixmap()
        self.arg_widget.fire()
    
    @QtCore.Slot()
    def clear(self):
        self.arg_widget.prime()
        self.graph_widget.figure.hide()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PySide6.QtWidgets.QWidget</li>
<li>PySide6.QtCore.QObject</li>
<li>PySide6.QtGui.QPaintDevice</li>
<li>Shiboken.Object</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.MovingAverageWidget.staticMetaObject"><code class="name">var <span class="ident">staticMetaObject</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.MovingAverageWidget.calculate"><code class="name flex">
<span>def <span class="ident">calculate</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def calculate(self):
    if self.graph_widget.figure.isVisible():
        self.graph_widget.figure.hide()

    symbols = self.arg_widget.get_symbol_input()

    moving_averages = statistics.calculate_moving_averages(symbols)
    periods = [settings.MA_1_PERIOD, settings.MA_2_PERIOD, settings.MA_3_PERIOD]
    plotter.plot_moving_averages(symbols=symbols, 
                                    averages_output=moving_averages, 
                                    periods=periods, 
                                    show=False, 
                                    savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;AVERAGES&#34;]}&#39;)
    self.graph_widget.set_pixmap()
    self.arg_widget.fire()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.MovingAverageWidget.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def clear(self):
    self.arg_widget.prime()
    self.graph_widget.figure.hide()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.MovingAverageWidget.resizeEvent"><code class="name flex">
<span>def <span class="ident">resizeEvent</span></span>(<span>self, event: PySide6.QtGui.QResizeEvent) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>resizeEvent(self, event: PySide6.QtGui.QResizeEvent) -&gt; None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
    if self.graph_widget.figure.isVisible():
        self.graph_widget.set_pixmap()
    return super().resizeEvent(event)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="scrilla.gui.widgets.functions.OptimizerWidget"><code class="flex name class">
<span>class <span class="ident">OptimizerWidget</span></span>
<span>(</span><span>layer)</span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p><strong>init</strong>(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p>Initialize self.
See help(type(self)) for accurate signature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OptimizerWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()
        
        for arg in definitions.FUNC_DICT[&#39;optimize_portfolio&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.title = factories.atomic_widget_factory(format=&#39;heading&#39;, title=None)
        self.table_widget = components.TableWidget(widget_title=&#34;Optimization Results&#34;,
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.optimize,
                                                    clear_function=self.clear,
                                                    controls=OptimizerWidget._configure_control_skeleton(),
                                                    layer=utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.table_widget)
        self.layout().addWidget(self.arg_widget)
    
    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def optimize(self):
        if self.table_widget.table.isVisible():
            self.table_widget.table.clear()
            self.table_widget.table.hide()

        symbols = self.arg_widget.get_symbol_input()

        # TODO: better error checking
        if len(symbols) &gt; 1:
            investment = self.arg_widget.get_control_input(&#39;investment&#39;)
            this_portfolio = Portfolio(tickers=symbols, 
                                        start_date=self.arg_widget.get_control_input(&#39;start_date&#39;),
                                        end_date=self.arg_widget.get_control_input(&#39;end_date&#39;))
            allocation = optimizer.optimize_portfolio_variance(portfolio=this_portfolio,
                                                                target_return=self.arg_widget.get_control_input(&#39;target&#39;))
            self.title.setText(formats.format_allocation_profile_title(allocation, this_portfolio))
            
            if investment is None:
                self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;])
            else:
                self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;, &#39;Shares&#39;])
                shares = this_portfolio.calculate_approximate_shares(allocation, float(investment))

            for i in range(len(symbols)):
                item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=helper.format_float_percent(allocation[i]))
                self.table_widget.table.setItem(i, 0, item)

                if investment is not None:
                    share_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=str(shares[i]))
                    self.table_widget.table.setItem(i, 1, share_item)
            
            # TODO: display amount vested per equity
            # TODO: display total portfolio return and volatility
            # TODO: display actual investment
            self.table_widget.show_table()
            self.arg_widget.fire()
        
        else:
            print(&#39;something went wrong&#39;)

    @QtCore.Slot()
    def clear(self):
        self.table_widget.table.clear()
        self.table_widget.table.hide()
        self.arg_widget.prime()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PySide6.QtWidgets.QWidget</li>
<li>PySide6.QtCore.QObject</li>
<li>PySide6.QtGui.QPaintDevice</li>
<li>Shiboken.Object</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.OptimizerWidget.staticMetaObject"><code class="name">var <span class="ident">staticMetaObject</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.OptimizerWidget.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def clear(self):
    self.table_widget.table.clear()
    self.table_widget.table.hide()
    self.arg_widget.prime()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.OptimizerWidget.optimize"><code class="name flex">
<span>def <span class="ident">optimize</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def optimize(self):
    if self.table_widget.table.isVisible():
        self.table_widget.table.clear()
        self.table_widget.table.hide()

    symbols = self.arg_widget.get_symbol_input()

    # TODO: better error checking
    if len(symbols) &gt; 1:
        investment = self.arg_widget.get_control_input(&#39;investment&#39;)
        this_portfolio = Portfolio(tickers=symbols, 
                                    start_date=self.arg_widget.get_control_input(&#39;start_date&#39;),
                                    end_date=self.arg_widget.get_control_input(&#39;end_date&#39;))
        allocation = optimizer.optimize_portfolio_variance(portfolio=this_portfolio,
                                                            target_return=self.arg_widget.get_control_input(&#39;target&#39;))
        self.title.setText(formats.format_allocation_profile_title(allocation, this_portfolio))
        
        if investment is None:
            self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;])
        else:
            self.table_widget.init_table(rows=symbols,columns=[&#39;Allocation&#39;, &#39;Shares&#39;])
            shares = this_portfolio.calculate_approximate_shares(allocation, float(investment))

        for i in range(len(symbols)):
            item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=helper.format_float_percent(allocation[i]))
            self.table_widget.table.setItem(i, 0, item)

            if investment is not None:
                share_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=str(shares[i]))
                self.table_widget.table.setItem(i, 1, share_item)
        
        # TODO: display amount vested per equity
        # TODO: display total portfolio return and volatility
        # TODO: display actual investment
        self.table_widget.show_table()
        self.arg_widget.fire()
    
    else:
        print(&#39;something went wrong&#39;)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="scrilla.gui.widgets.functions.RiskReturnWidget"><code class="flex name class">
<span>class <span class="ident">RiskReturnWidget</span></span>
<span>(</span><span>layer)</span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p><strong>init</strong>(self, parent: Union[PySide6.QtWidgets.QWidget, NoneType] = None, f: PySide6.QtCore.Qt.WindowFlags = Default(Qt.WindowFlags)) -&gt; None</p>
<p>Initialize self.
See help(type(self)) for accurate signature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RiskReturnWidget(QtWidgets.QWidget):
    def __init__(self, layer):
        super().__init__()
        self.setObjectName(layer)
        self._init_widgets()
        self._arrange_widgets()
        self._stage_widgets()

    @staticmethod
    def _configure_control_skeleton():
        controls = factories.generate_control_skeleton()

        for arg in definitions.FUNC_DICT[&#39;risk_profile&#39;][&#39;args&#39;]:
            controls[arg] = True

        return controls

    def _init_widgets(self):
        self.composite_widget = components.CompositeWidget(keys.keys[&#39;GUI&#39;][&#39;TEMP&#39;][&#39;PROFILE&#39;], 
                                                            widget_title=&#34;Risk Analysis&#34;,
                                                            table_title=&#34;CAPM Risk Profile&#34;,
                                                            graph_title=&#34;Risk-Return Plane&#34;,
                                                            layer = utilities.get_next_layer(self.objectName()))
        self.arg_widget = components.ArgumentWidget(calculate_function=self.calculate,
                                                    clear_function=self.clear,
                                                    controls= RiskReturnWidget._configure_control_skeleton(),
                                                    layer = utilities.get_next_layer(self.objectName()))
        self.setLayout(QtWidgets.QHBoxLayout())

    def _arrange_widgets(self):
        self.layout().addWidget(self.composite_widget)
        self.layout().addWidget(self.arg_widget)

    def _stage_widgets(self):
        self.arg_widget.prime()

    @QtCore.Slot()
    def calculate(self):
        if self.composite_widget.graph_widget.figure.isVisible():
            self.composite_widget.graph_widget.figure.hide()

        symbols = self.arg_widget.get_symbol_input()

        self.composite_widget.table_widget.init_table(rows=symbols, 
                                                        columns=[&#39;Return&#39;,&#39;Volatility&#39;, &#39;Sharpe&#39;, &#39;Beta&#39;, &#39;Equity Cost&#39;])

        profiles = {}
        for i, symbol in enumerate(symbols):
            profiles[symbol] = statistics.calculate_risk_return(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;SHARPE&#39;]] = markets.sharpe_ratio(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;BETA&#39;]] = markets.market_beta(symbol)
            profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;EQUITY&#39;]] = markets.cost_of_equity(symbol)

            formatted_profile = formats.format_profile(profiles[symbol])

            for j, statistic in enumerate(formatted_profile.keys()):
                table_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=formatted_profile[statistic] )
                self.composite_widget.table_widget.table.setItem(i, j, table_item)

        plotter.plot_profiles(symbols=symbols, profiles=profiles, show=False,
                                        savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;PROFILE&#34;]}&#39;)

        self.composite_widget.graph_widget.set_pixmap()
        self.composite_widget.table_widget.show_table()
        self.arg_widget.fire()

    def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
        if self.composite_widget.graph_widget.figure.isVisible():
            self.composite_widget.graph_widget.set_pixmap()
        return super().resizeEvent(event)

    @QtCore.Slot()
    def clear(self):
        self.composite_widget.graph_widget.figure.hide()
        self.composite_widget.table_widget.table.clear()
        self.composite_widget.table_widget.table.hide()
        self.arg_widget.prime()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PySide6.QtWidgets.QWidget</li>
<li>PySide6.QtCore.QObject</li>
<li>PySide6.QtGui.QPaintDevice</li>
<li>Shiboken.Object</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.RiskReturnWidget.staticMetaObject"><code class="name">var <span class="ident">staticMetaObject</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="scrilla.gui.widgets.functions.RiskReturnWidget.calculate"><code class="name flex">
<span>def <span class="ident">calculate</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def calculate(self):
    if self.composite_widget.graph_widget.figure.isVisible():
        self.composite_widget.graph_widget.figure.hide()

    symbols = self.arg_widget.get_symbol_input()

    self.composite_widget.table_widget.init_table(rows=symbols, 
                                                    columns=[&#39;Return&#39;,&#39;Volatility&#39;, &#39;Sharpe&#39;, &#39;Beta&#39;, &#39;Equity Cost&#39;])

    profiles = {}
    for i, symbol in enumerate(symbols):
        profiles[symbol] = statistics.calculate_risk_return(symbol)
        profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;SHARPE&#39;]] = markets.sharpe_ratio(symbol)
        profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;BETA&#39;]] = markets.market_beta(symbol)
        profiles[symbol][keys.keys[&#39;APP&#39;][&#39;PROFILE&#39;][&#39;EQUITY&#39;]] = markets.cost_of_equity(symbol)

        formatted_profile = formats.format_profile(profiles[symbol])

        for j, statistic in enumerate(formatted_profile.keys()):
            table_item = factories.atomic_widget_factory(format=&#39;table-item&#39;, title=formatted_profile[statistic] )
            self.composite_widget.table_widget.table.setItem(i, j, table_item)

    plotter.plot_profiles(symbols=symbols, profiles=profiles, show=False,
                                    savefile=f&#39;{settings.TEMP_DIR}/{keys.keys[&#34;GUI&#34;][&#34;TEMP&#34;][&#34;PROFILE&#34;]}&#39;)

    self.composite_widget.graph_widget.set_pixmap()
    self.composite_widget.table_widget.show_table()
    self.arg_widget.fire()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.RiskReturnWidget.clear"><code class="name flex">
<span>def <span class="ident">clear</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@QtCore.Slot()
def clear(self):
    self.composite_widget.graph_widget.figure.hide()
    self.composite_widget.table_widget.table.clear()
    self.composite_widget.table_widget.table.hide()
    self.arg_widget.prime()</code></pre>
</details>
</dd>
<dt id="scrilla.gui.widgets.functions.RiskReturnWidget.resizeEvent"><code class="name flex">
<span>def <span class="ident">resizeEvent</span></span>(<span>self, event: PySide6.QtGui.QResizeEvent) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>resizeEvent(self, event: PySide6.QtGui.QResizeEvent) -&gt; None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def resizeEvent(self, event: QtGui.QResizeEvent) -&gt; None:
    if self.composite_widget.graph_widget.figure.isVisible():
        self.composite_widget.graph_widget.set_pixmap()
    return super().resizeEvent(event)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="scrilla.gui.widgets" href="index.html">scrilla.gui.widgets</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="scrilla.gui.widgets.functions.CorrelationWidget" href="#scrilla.gui.widgets.functions.CorrelationWidget">CorrelationWidget</a></code></h4>
<ul class="">
<li><code><a title="scrilla.gui.widgets.functions.CorrelationWidget.calculate" href="#scrilla.gui.widgets.functions.CorrelationWidget.calculate">calculate</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.CorrelationWidget.clear" href="#scrilla.gui.widgets.functions.CorrelationWidget.clear">clear</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.CorrelationWidget.staticMetaObject" href="#scrilla.gui.widgets.functions.CorrelationWidget.staticMetaObject">staticMetaObject</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="scrilla.gui.widgets.functions.EfficientFrontierWidget" href="#scrilla.gui.widgets.functions.EfficientFrontierWidget">EfficientFrontierWidget</a></code></h4>
<ul class="">
<li><code><a title="scrilla.gui.widgets.functions.EfficientFrontierWidget.calculate" href="#scrilla.gui.widgets.functions.EfficientFrontierWidget.calculate">calculate</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.EfficientFrontierWidget.clear" href="#scrilla.gui.widgets.functions.EfficientFrontierWidget.clear">clear</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.EfficientFrontierWidget.resizeEvent" href="#scrilla.gui.widgets.functions.EfficientFrontierWidget.resizeEvent">resizeEvent</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.EfficientFrontierWidget.staticMetaObject" href="#scrilla.gui.widgets.functions.EfficientFrontierWidget.staticMetaObject">staticMetaObject</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="scrilla.gui.widgets.functions.MovingAverageWidget" href="#scrilla.gui.widgets.functions.MovingAverageWidget">MovingAverageWidget</a></code></h4>
<ul class="">
<li><code><a title="scrilla.gui.widgets.functions.MovingAverageWidget.calculate" href="#scrilla.gui.widgets.functions.MovingAverageWidget.calculate">calculate</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.MovingAverageWidget.clear" href="#scrilla.gui.widgets.functions.MovingAverageWidget.clear">clear</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.MovingAverageWidget.resizeEvent" href="#scrilla.gui.widgets.functions.MovingAverageWidget.resizeEvent">resizeEvent</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.MovingAverageWidget.staticMetaObject" href="#scrilla.gui.widgets.functions.MovingAverageWidget.staticMetaObject">staticMetaObject</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="scrilla.gui.widgets.functions.OptimizerWidget" href="#scrilla.gui.widgets.functions.OptimizerWidget">OptimizerWidget</a></code></h4>
<ul class="">
<li><code><a title="scrilla.gui.widgets.functions.OptimizerWidget.clear" href="#scrilla.gui.widgets.functions.OptimizerWidget.clear">clear</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.OptimizerWidget.optimize" href="#scrilla.gui.widgets.functions.OptimizerWidget.optimize">optimize</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.OptimizerWidget.staticMetaObject" href="#scrilla.gui.widgets.functions.OptimizerWidget.staticMetaObject">staticMetaObject</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="scrilla.gui.widgets.functions.RiskReturnWidget" href="#scrilla.gui.widgets.functions.RiskReturnWidget">RiskReturnWidget</a></code></h4>
<ul class="">
<li><code><a title="scrilla.gui.widgets.functions.RiskReturnWidget.calculate" href="#scrilla.gui.widgets.functions.RiskReturnWidget.calculate">calculate</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.RiskReturnWidget.clear" href="#scrilla.gui.widgets.functions.RiskReturnWidget.clear">clear</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.RiskReturnWidget.resizeEvent" href="#scrilla.gui.widgets.functions.RiskReturnWidget.resizeEvent">resizeEvent</a></code></li>
<li><code><a title="scrilla.gui.widgets.functions.RiskReturnWidget.staticMetaObject" href="#scrilla.gui.widgets.functions.RiskReturnWidget.staticMetaObject">staticMetaObject</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>