
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Appendix &#8212; scrilla  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Deployment" href="DEPLOYMENT.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="appendix">
<h1>Appendix<a class="headerlink" href="#appendix" title="Permalink to this heading">¶</a></h1>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this heading">¶</a></h2>
</section>
<section id="id1">
<h2>#1<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>The following symbols have both equity and crypto assets trading on exchanges:</p>
<p>[‘ABT’, ‘AC’, ‘ADT’, ‘ADX’, ‘AE’, ‘AGI’, ‘AI’, ‘AIR’, ‘AMP’, ‘AVT’, ‘BCC’, ‘BCD’, ‘BCH’, ‘BCX’, ‘BDL’, ‘BFT’, ‘BIS’, ‘BLK’, ‘BQ’, ‘BRX’, ‘BTA’, ‘BTG’, ‘CAT’, ‘CMP’, ‘CMT’, ‘CNX’, ‘CTR’, ‘CURE’, ‘DAR’, ‘DASH’, ‘DBC’, ‘DCT’, ‘DDF’, ‘DFS’, ‘DTB’, ‘DYN’, ‘EBTC’, ‘ECC’, ‘EFL’, ‘ELA’, ‘ELF’,’EMB’, ‘ENG’, ‘ENJ’, ‘EOS’, ‘EOT’, ‘EQT’, ‘ERC’, ‘ETH’, ‘ETN’, ‘EVX’, ‘EXP’, ‘FCT’, ‘FLO’, ‘FLT’, ‘FTC’, ‘FUN’, ‘GAM’, ‘GBX’, ‘GEO’, ‘GLD’, ‘GNT’, ‘GRC’, ‘GTO’, ‘INF’, ‘INS’, ‘INT’, ‘IXC’, ‘KIN’, ‘LBC’, ‘LEND’, ‘LTC’, ‘MAX’, ‘MCO’, ‘MEC’, ‘MED’, ‘MGC’, ‘MINT’, ‘MLN’, ‘MNE’, ‘MOD’, ‘MSP’, ‘MTH’, ‘MTN’, ‘MUE’, ‘NAV’, ‘NEO’, ‘NEOS’, ‘NET’, ‘NMR’, ‘NOBL’, ‘NXC’, ‘OCN’, ‘OPT’, ‘PBT’, ‘PING’, ‘PPC’, ‘PPT’, ‘PRG’, ‘PRO’, ‘PST’, ‘PTC’, ‘QLC’, ‘QTUM’,’R’, ‘RDN’, ‘REC’, ‘RVT’, ‘SALT’, ‘SAN’, ‘SC’, ‘SKY’, ‘SLS’, ‘SPR’, ‘SNX’, ‘STK’, ‘STX’, ‘SUB’, ‘SWT’, ‘THC’, ‘TKR’, ‘TRC’, ‘TRST’, ‘TRUE’, ‘TRX’, ‘TX’, ‘UNB’, ‘VERI’, ‘VIVO’, ‘VOX’, ‘VPN’, ‘VRM’, ‘VRS’, ‘VSL’, ‘VTC’, ‘VTR’, ‘WDC’, ‘WGO’, ‘WTT’, ‘XEL’, ‘NEM’, ‘ZEN’]</p>
<p>Since there is no way good way to distinguish whether or not the asset is an equity or a cryptocurrency based on the value of the ticker alone, the module functions <code class="docutils literal notranslate"><span class="pre">scrilla.files.get_asset_type</span></code> and <code class="docutils literal notranslate"><span class="pre">scrilla.errors.validate_asset_type</span></code> will always default to the equity ticker for the above symbols.</p>
<p>This is not the greatest solution, as all the crypto symbols given above are inaccessible to analysis. In particular, <code class="docutils literal notranslate"><span class="pre">ETH</span></code> represents a popular crypto that cannot be analyzed, which represents a major failing of the current application.</p>
<p>The way the <code class="docutils literal notranslate"><span class="pre">service</span></code> module works, <code class="docutils literal notranslate"><span class="pre">PriceManager</span></code> can be forced to retrieve the crypto asset’s prices instead of the equity asset’s through the <code class="docutils literal notranslate"><span class="pre">services.PriceManager.get_prices</span></code> method by providing the method an argument of <code class="docutils literal notranslate"><span class="pre">asset_type='crypto'</span></code>; However, the <code class="docutils literal notranslate"><span class="pre">service</span></code> module function <code class="docutils literal notranslate"><span class="pre">services.get_daily_price_history</span></code>, which is the point of contact between the <code class="docutils literal notranslate"><span class="pre">PriceManager</span></code> and the rest of the application, wraps calls to the <code class="docutils literal notranslate"><span class="pre">PriceManager.get_prices</span></code> method in a cache persistence layer (meaning, <code class="docutils literal notranslate"><span class="pre">get_daily_price_history</span></code> checks if prices exist in the cache before passing the request off to an external service query). The cache doesn’t distinguish asset types currently. The <code class="docutils literal notranslate"><span class="pre">PriceCache</span></code> stores prices based on the inputs (<i>ticker, date, open close, close price</i>). So, even if the <code class="docutils literal notranslate"><span class="pre">PriceManager</span></code> is forced to get crypto prices on the first call, subsequent calls to the same <code class="docutils literal notranslate"><span class="pre">get_daily_price_history</span></code> function will likely break the application, or at least lead to misleading results, since the cache will contain a set of prices that doesn’t necessarily map one-to-one with its ticker symbol.</p>
<p>If the above problem is to be solved, the cache needs modified to separate prices based on asset type.</p>
</section>
<section id="id2">
<h2>#2<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<p>There is a slight discrepancy between the results of maximum likelihood estimation and moment matching when the underyling distribution of the price process is log-normal. The likelihood algorithm in this library relies on the generalized idea of likelihood estimation; it will compute the log-likelihood function for a given vector of parameters and then optimize that function by varying the vector until the input that produces the maximum output; the usual matter of course is to derive a formula using calculus that can then be analytically solved. Both operations should be equivalent. Moreover, theoretically, it can be shown the maximization operation should be equivalent to the results obtained by the moment matching operation, i.e the maximum likelihood estimator for the mean is the sample mean, etc. However, the results between maximum likelihood estimation and moment matching are off by a few decimal points. It may be due to some vagary of floating point arithmetic, but something else may be going on. See comments in `scrilla.analysis.models.geometric.statistics’</p>
</section>
<section id="id3">
<h2>#3<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p><strong>matplotlib</strong>’s rendering backend does not yet (if it will ever) support the newer <strong>PyQt6</strong>/<strong>PySide6</strong> GUI toolkit and thus requires an older <strong>PyQt5</strong>/<strong>PySide2</strong> dependency. However, the GUI was written in <strong>PySide6</strong> to take advantage of the latest release. Therefore, the application dependencies contain a redundancy. If you examine the <a class="reference external" href="https://github.com/chinchalinchin/scrilla/blob/develop/main/requirements.txt">requirements.txt</a> dependency file, you will note <em>both</em> <strong>PySide2</strong> and <strong>PySide6</strong> are installed. Until <strong>matplotlib</strong> suports <strong>PySide6</strong>, this unfortunate state of affairs must remain.</p>
</section>
<section id="id4">
<h2>#4<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause has not yet been implemented in <strong>PartiQL</strong> (see <a class="reference external" href="https://github.com/partiql/partiql-lang-kotlin/issues/47">GitHub Issue</a>). As a result, when running in ‘dynamodb’ <em>CACHE_MODE</em>, <strong>PartiQL</strong> queries are sorted application side until this issue is resolved.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">¶</a></h3>
</section>
</section>
<section id="application">
<h2><strong>Application</strong><a class="headerlink" href="#application" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://dateutil.readthedocs.io/en/stable/index.html">dateutil</a></p></li>
<li><p><span class="xref myst">defusedxml</span></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/holidays/">holidays</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/matplotlib/">matplotlib</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/numpy/">numpy</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/python-dotenv/">python-dotenv</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/requests/">requests</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/scipy/">scipy</a></p></li>
</ul>
</section>
<section id="gui">
<h2><strong>GUI</strong><a class="headerlink" href="#gui" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/PySide6/">PySide6</a></p></li>
</ul>
</section>
<section id="testing">
<h2><strong>Testing</strong><a class="headerlink" href="#testing" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/pytest/">pytest</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/coverage/">coverage</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/httmock/">httmock</a></p></li>
</ul>
</section>
<section id="id5">
<h2><strong>Documentation</strong><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/Sphinx/">sphinx</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/pdoc3/">pdoc3</a></p></li>
<li><p><span class="xref myst">myst-parser</span></p></li>
</ul>
</section>
<section id="build">
<h2><strong>Build</strong><a class="headerlink" href="#build" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/setuptools/">setuptools</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/twine/">twine</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/build/">build</a></p></li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<section id="stack-exchanges">
<h3>Stack Exchanges<a class="headerlink" href="#stack-exchanges" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://stats.stackexchange.com/questions/70899/what-correlation-makes-a-matrix-singular-and-what-are-implications-of-singularit">What Makes A Covariance Matrix Singular</a></p></li>
<li><p><a class="reference external" href="https://stats.stackexchange.com/questions/64680/how-to-determine-quantiles-isolines-of-a-multivariate-normal-distribution">How to Determine Quantile Isolines of A Multivariate Normal</a></p></li>
</ul>
</section>
<section id="academic-papers">
<h3>Academic Papers<a class="headerlink" href="#academic-papers" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://cpsc.yale.edu/sites/default/files/files/tr222.pdf">Algorithms for computing sample variance</a></p></li>
<li><p><a class="reference external" href="http://www.columbia.edu/~mh2078/QRM/Copulas.pdf">An Introduction to Copulas</a></p></li>
<li><p><a class="reference external" href="https://www.ise.ufl.edu/uryasev/files/2011/11/CVaR1_JOR.pdf">Optimization of Conditional Value At Risk</a></p></li>
<li><p><a class="reference external" href="https://www.hindawi.com/journals/jps/2016/5191583/">Parameter Estimation in Mean Reversion Processes with Deterministic Long-Term Trend</a></p></li>
</ul>
</section>
<section id="wikis">
<h3>Wikis<a class="headerlink" href="#wikis" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Copula_(probability_theory)#Empirical_copulas">Empirical Copulas</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Probability_integral_transform">Probability Integral Transform</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Cauchy%E2%80%93Schwarz_inequality#Probability_theory">Cauchy-Schwarz Inequality</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Sylvester%27s_criterion">Slyvester Criterion</a></p></li>
</ul>
</section>
</section>
<section id="assets">
<h2>Assets<a class="headerlink" href="#assets" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://ionic.io/ionicons">Ionicons</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">scrilla</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OVERVIEW.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="SETUP.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONFIGURATION.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="ARCHITECTURE.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEVELOPMENT.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEPLOYMENT.html">Deployment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">#1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">#2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">#3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">#4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application"><strong>Application</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#gui"><strong>GUI</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing"><strong>Testing</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5"><strong>Documentation</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#build"><strong>Build</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="#assets">Assets</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="DEPLOYMENT.html" title="previous chapter">Deployment</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Grant Moore.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/APPENDIX.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>