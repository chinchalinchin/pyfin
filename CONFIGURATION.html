
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuration &#8212; scrilla  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="USAGE.html" />
    <link rel="prev" title="Setup" href="SETUP.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<section id="api-key-links">
<h2>API Key Links<a class="headerlink" href="#api-key-links" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.alphavantage.co/support/#api-key">AlphaVantage API Key Registration</a><br>
<a class="reference external" href="https://www.quandl.com/account/api">Quandl API Key Registration</a><br>
<a class="reference external" href="https://iexcloud.io/">IEX API Key Registration</a><br></p>
<p>In order to use this application, you will need to register for API keys for each of the above services. The program will need to be made aware of these keys somehow. The best option is storing these credentials in environment variables. Other methods of storage are detailed in the next section.</p>
<p><strong>NOTE</strong>: Technically, you do not need a <strong>Quandl</strong> key for this application to function since the release of version 1.5. As of 1.5, interest rates are no longer retrieved from <strong>Quandl</strong>’s <em>USTREASURY/YIELD</em> endpoint, due its support being dropped. Instead, interest rates are retrieved directly from the US Treasury’s RSS feed. However, the author still recommends registering for a <strong>Quandl</strong> key, as other statistical information from <strong>Quandl</strong> will be incorporated into the application in future releases. (In particular, I have my eyes on the GDP and inflation feeds)</p>
<p><strong>NOTE</strong>: <strong>Quandl</strong> was acquired by <strong>Nasdaq</strong>, so all <strong>Quandl</strong> links will now redirect to <a class="reference external" href="https://data.nasdaq.com">data.nasdaq.com</a>.</p>
</section>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h2>
<p><strong>scrilla</strong> scans the environment in its <em>settings.py</em> file for shell environment variables. Various properties of the application can be configured through these environment variables. A sample environment file is located <a class="reference external" href="https://github.com/chinchalinchin/scrilla/blob/develop/main/env/.sample.env">here</a>, along with comments describing the purpose of each variable. The application sets sensible defaults for most of these environment variables, but there are several required environment variables you will need to set yourself.</p>
</section>
<section id="required-configuration">
<h2>Required Configuration<a class="headerlink" href="#required-configuration" title="Permalink to this headline">¶</a></h2>
<p><em>NOTE</em>: If no API keys are found through either of the following methods, the application will not function properly.</p>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
<p>You will need to register for API keys at <strong>AlphaVantage</strong>, <strong>IEX</strong> and <strong>Quandl</strong> in order to retrieve financial data. One way of passing API keys to the program is by storing these in your session’s environment. <strong>scrilla</strong> will search for environment variables named <strong>ALPHA_VANTAGE_KEY</strong>, <strong>QUANDL_KEY</strong> and <strong>IEX_KEY</strong>. You can add the following lines to your <em>.bashrc</em> profile or corresponding configuration file for whatever shell you are using, or simply execute these lines before invoking <strong>scrilla</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">ALPHA_VANTAGE_KEY</span><span class="o">=</span>&lt;key goes here&gt;
<span class="nb">export</span> <span class="nv">QUANDL_KEY</span><span class="o">=</span>&lt;key goes here&gt;
<span class="nb">export</span> <span class="nv">IEX_KEY</span><span class="o">=</span>&lt;key goes here&gt;
</pre></div>
</div>
<p>The next invocation of <em>scrilla</em> will detect these variables and automatically append the credentials to services calls.</p>
</section>
<section id="local-storage">
<h3>Local Storage<a class="headerlink" href="#local-storage" title="Permalink to this headline">¶</a></h3>
<p>You can also invoke the CLI function <code class="docutils literal notranslate"><span class="pre">store</span></code> to store the credentials in the local installation’s <i>/data/common/</i> directory. To do so,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>scrilla store -key &lt;key&gt; -value &lt;value&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;key&gt;</span></code> is one of the values: <strong>ALPHA_VANTAGE_KEY</strong>, <strong>QUANDL_KEY</strong> or <strong>IEX_KEY</strong>. <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> is the corresponding key itself given to you after registration. <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> is case-sensitive! Keep in mind if using this method to store the API keys, the keys will be stored unencrypted in the local <em>/data/common/</em> directory.</p>
</section>
</section>
<section id="optional-configuration">
<h2>Optional Configuration<a class="headerlink" href="#optional-configuration" title="Permalink to this headline">¶</a></h2>
<p><em>scrilla</em> can be configured with the following optional environment variables. Each variable in this list has a suitable default set and so does not need changed unless the user prefers a different setting. Set these values in your shell profile or export them directly from your current session, i.e.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">RISK_FREE</span><span class="o">=</span>ONE_YEAR
scrilla risk-free <span class="c1"># returns one year risk free rate</span>
<span class="nb">export</span> <span class="nv">RISK_FREE</span><span class="o">=</span>THREE_YEAR
scrilla risk-free <span class="c1"># returns three year risk free rate</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ANALYSIS_MODE</p></li>
</ul>
<p>The asset price model assumed during the estimation of statistics. A value of<code class="docutils literal notranslate"><span class="pre">geometric</span></code> corresponds geometric brownian motion model where the return is proportional to the asset price. The constant of proportionality is a random variable with a constant mean and volatility. A value of <code class="docutils literal notranslate"><span class="pre">reversion</span></code> refers to a mean reverting model where the return is proportional to the difference between the asset price and a stationary mean. The unit of proportionality is a random variable with constant mean and volatility.</p>
<p>Note, it is highly recommended that if you change this value, you should clear the cache, as the cache stores frequent statistical calculations to speed up the program. The previous values of the statistics calculated under the prior model will be referenced and result in incorrect calculations.</p>
<ul class="simple">
<li><p>CACHE_MODE</p></li>
</ul>
<p>By default, <strong>CACHE_MODE</strong> is set equal to <code class="docutils literal notranslate"><span class="pre">sqlite</span></code>. In this mode, the cache uses a SQLite flat file to store price histories and statistical calculations on the local filesystem. The <strong>CACHE_MODE</strong> can also be set to <code class="docutils literal notranslate"><span class="pre">dynamodb</span></code> to store these quantities in a cloud-based DynamoDB table. In order for the<code class="docutils literal notranslate"><span class="pre">dynamodb</span></code> mode to work, the user/service using <code class="docutils literal notranslate"><span class="pre">scrilla</span></code> must have a role with read/write privileges on the tables: <code class="docutils literal notranslate"><span class="pre">prices</span></code>, <code class="docutils literal notranslate"><span class="pre">interest</span></code>, <code class="docutils literal notranslate"><span class="pre">profile</span></code> and <code class="docutils literal notranslate"><span class="pre">correlation</span></code>. These tables will be created if they do not exist, assuming the role grants the correct privileges to the process executing <code class="docutils literal notranslate"><span class="pre">scrilla</span></code>. Refer to the <span class="xref myst">AWS Documentation on DynamoDB permissions for more information on configuring your IAM role for scrilla</span>. (NOTE, <code class="docutils literal notranslate"><span class="pre">dynamodb</span></code> is still in development, but should be done shortly as this is currently the priority).</p>
<ul class="simple">
<li><p>DEFAULT_ESTIMATION_METHOD</p></li>
</ul>
<p>Determines the method used to calculate risk-return profiles. If set to <code class="docutils literal notranslate"><span class="pre">moments</span></code>, the return and volatility will be estimated by setting them equal to the first and second sample moments. If set to <code class="docutils literal notranslate"><span class="pre">percents</span></code>, the return and volatilty will be estimated by setting the 25th percentile and 75th percentile of the assumed distribution (see above <strong>ANALYSIS_MODE</strong>) equal to the 25th and 75th percentile from the sample of data. If set to <code class="docutils literal notranslate"><span class="pre">likely</span></code>, the likelihood function calculated from the assumed distribution (see <strong>ANALYSIS_MODE</strong> again) will be maximized with respect to the return and volatility; the values which maximize will be used as the estimates.</p>
<ul class="simple">
<li><p>RISK_FREE</p></li>
</ul>
<p>Determines which annualized US-Treasury yield is used as stand-in for the risk free rate. This variable will default to a value of <code class="docutils literal notranslate"><span class="pre">ONE_YEAR</span></code>, but can be modified to any of the following: <code class="docutils literal notranslate"><span class="pre">ONE_MONTH</span></code>, <code class="docutils literal notranslate"><span class="pre">THREE_MONTH</span></code>, <code class="docutils literal notranslate"><span class="pre">SIX_MONTH</span></code>, <code class="docutils literal notranslate"><span class="pre">ONE_YEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">THREE_YEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">FIVE_YEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">TEN_YEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">THIRTY_YEAR</span></code>.</p>
<ul class="simple">
<li><p>MARKET_PROXY</p></li>
</ul>
<p>Determines which ticker symbol is used as a proxy for the overall market return. This variable will default to a value of <code class="docutils literal notranslate"><span class="pre">SPY</span></code>, but can be set to any ticker on the stock market. Recommended values: <code class="docutils literal notranslate"><span class="pre">SPY</span></code>, <code class="docutils literal notranslate"><span class="pre">QQQ</span></code>, <code class="docutils literal notranslate"><span class="pre">DJI</span></code> or <code class="docutils literal notranslate"><span class="pre">VTI</span></code>.</p>
<ul class="simple">
<li><p>FRONTIER_STEPS</p></li>
</ul>
<p>Determines the number of data points in a portfolio’s efficient frontier. This variable will default to a value of <code class="docutils literal notranslate"><span class="pre">5</span></code>, but can be set equal to any integer.</p>
<ul class="simple">
<li><p>MA_1, MA_2, MA_3</p></li>
</ul>
<p>Determines the number of days used in the sample for moving average series and plots. These variables default to the values of <code class="docutils literal notranslate"><span class="pre">20</span></code>, <code class="docutils literal notranslate"><span class="pre">60</span></code> and <code class="docutils literal notranslate"><span class="pre">100</span></code>. In other words, by default, moving average plots will display the 20-day moving average, the 60-day moving average and the 100-day moving average. These variables can be set equal to any integer, as long as <strong>MA_1</strong>, <strong>MA_2</strong>, <strong>MA_3</strong>.</p>
<ul class="simple">
<li><p>FILE_EXT</p></li>
</ul>
<p>Determines the type of files that are output by <strong>scrilla</strong>. This variable is currently only defined for an argument of <code class="docutils literal notranslate"><span class="pre">json</span></code>. A future release will include <code class="docutils literal notranslate"><span class="pre">csv</span></code>.</p>
<ul class="simple">
<li><p>LOG_LEVEL</p></li>
</ul>
<p>Determines the amount of output. Defaults to <code class="docutils literal notranslate"><span class="pre">info</span></code>. Allowable values: <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">debug</span></code> or <code class="docutils literal notranslate"><span class="pre">verbose</span></code>. Be warned, <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is <em>extremely</em> verbose.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">scrilla</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OVERVIEW.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="SETUP.html">Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api-key-links">API Key Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment">Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#required-configuration">Required Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-configuration">Optional Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="APPENDIX.html">Appendix</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="SETUP.html" title="previous chapter">Setup</a></li>
      <li>Next: <a href="USAGE.html" title="next chapter">Usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Grant Moore.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/CONFIGURATION.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>